---
layout: post
title:  "内存"
date:   2018-05-10
categories: os
---





### 内存管理技术

| 技术         | 说明                                                         | 优势                                                         | 弱点                                                     |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------------------------- |
| 固定分区     | 在系统生成阶段，内存被划分成许多静态分区。进程可以被装入到大于或等于自身大小的分区中。 | 实现简单，系统开销少                                         | 有内部碎片，对内存使用不充分，活动进程的最大数目是固定的 |
| 动态分区     | 分区是动态创建的，因而使用每个进程可以被装入与自身大小正好相等的分区中 | 没有内部碎片                                                 | 由于需要压缩外部碎片，处理器利用率低                     |
| 简单分页     | 内存被划分为许多大小相等的页框，每个进程被划分为许多大小与页框相等的页；要装入进程，需要把进程包含的所有页都装入到内存中不一定连续的某些页框中 | 没有外部碎片                                                 | 有少量的内部碎片                                         |
| 简单分段     | 每个进程被划分为许多段；要装入进程，需要把进程包含的所有段都装入到内存中不一定连续的某些动态分区中 | 没有内部碎片；相对于动态分区，提高了内存利用率，减少了开销   | 存在外部碎片                                             |
| 虚拟内存分页 | 除了不需要装入进程的所有页之外，与简单分页一样；非驻留页在以后需要时自动调入内存 | 没有外部碎片；支持多道程序设计；巨大的虚拟地址空间           | 复杂的内存管理开销                                       |
| 虚拟内存分段 | 除了不需要装入进程的所有段之外，与简单分段一样；非驻留段在以后需要时自动调入内存 | 没有内存碎片；支持多道程序设计；巨大的虚拟地址空间；支持保护和共享 | 复杂的内存管理开销                                       |



### 虚拟内存

#### 虚拟内存术语

+ 虚拟内存

  在存储分配机制中，尽管备用内存是猪内存的一部分，它也可以被寻址。程序引用内存使用的地址与内存系统用于识别无力存储节点的地址是不同的，程序生成的地址会自动转换成机器地址。虚拟存储的大小收到计算机寻址机制和可用的备用内存量的限制，而不受内存储位置数量的限制。

+ 虚拟地址

  在虚拟内存中分配给某一个位置的地址使该位置可以被访问，彷佛它是内存的一部分。

+ 虚拟地址空间

  分配给进程的虚拟存储

+ 地址空间

  可用于某进程的内存地址范围

+ 实地址

  内存中存储位置的地址

#### 分段和分页的两个特点

+ 进程中的所有存储器访问都是逻辑地址，这些逻辑地址在运行时动态地被转换成物理地址。这意味着一个进程可以被换入或换出内存，使得进程可以在执行过程中的不同时刻占据内存中的不同区域。
+ 一个进程可以划分成许多块（页和段），在执行过程中，这些块不需要连续地位于内存中。动态运行时地址转换和页表或段表的使用使这一点成为可能。

